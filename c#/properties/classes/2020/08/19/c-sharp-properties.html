<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>C# Properties and their different Uses | Mitesh Shahâ€™s Blog</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="C# Properties and their different Uses" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A dive into C# Properties and various interesting patterns of using them into your code." />
<meta property="og:description" content="A dive into C# Properties and various interesting patterns of using them into your code." />
<link rel="canonical" href="https://mitesh1612.github.io/blog/c%23/properties/classes/2020/08/19/c-sharp-properties.html" />
<meta property="og:url" content="https://mitesh1612.github.io/blog/c%23/properties/classes/2020/08/19/c-sharp-properties.html" />
<meta property="og:site_name" content="Mitesh Shahâ€™s Blog" />
<meta property="og:image" content="https://mitesh1612.github.io/blog/images/2020-08-19-c-sharp-properties/hero.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-08-19T00:00:00-05:00" />
<script type="application/ld+json">
{"url":"https://mitesh1612.github.io/blog/c%23/properties/classes/2020/08/19/c-sharp-properties.html","@type":"BlogPosting","headline":"C# Properties and their different Uses","dateModified":"2020-08-19T00:00:00-05:00","datePublished":"2020-08-19T00:00:00-05:00","image":"https://mitesh1612.github.io/blog/images/2020-08-19-c-sharp-properties/hero.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://mitesh1612.github.io/blog/c%23/properties/classes/2020/08/19/c-sharp-properties.html"},"description":"A dive into C# Properties and various interesting patterns of using them into your code.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/blog/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://mitesh1612.github.io/blog/feed.xml" title="Mitesh Shah's Blog" /><!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','ru5rvky8-dQ8SDLk4O2l_e5lCAAE486e-RNQgPlG7xM','auto');ga('require','displayfeatures');ga('send','pageview');</script>

<link rel="shortcut icon" type="image/x-icon" href="/blog/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/blog/">Mitesh Shah&#39;s Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/blog/about/">About Me</a><a class="page-link" href="/blog/demo-post.txt">An Example Markdown Post</a><a class="page-link" href="/blog/search/">Search</a><a class="page-link" href="/blog/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">C# Properties and their different Uses</h1><p class="page-description">A dive into C# Properties and various interesting patterns of using them into your code.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-08-19T00:00:00-05:00" itemprop="datePublished">
        Aug 19, 2020
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      6 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/blog/categories/#C#">C#</a>
        &nbsp;
      
        <a class="category-tags-link" href="/blog/categories/#properties">properties</a>
        &nbsp;
      
        <a class="category-tags-link" href="/blog/categories/#classes">classes</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>I learnt C# in parts from various resources, mostly because each one had their different starting points. One book heavily relied on using Visual Studio which definitely makes life easy, but makes you ignore the nitties-gritties of setting up .NET projects, while one did everything from scratch, which did scratch my itch (<em>Get it?</em> ðŸ˜œ) but had a really really slow pace.</p>

<p>One constructs that I learnt about while seeing how to create classes was C# Properties. Properties have a little confusing syntax as described here (in all the non syntax highlighted glory of C#)</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">MyRiches</span>
<span class="p">{</span>
    <span class="c1">// Normal Data Members</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">Money</span><span class="p">;</span>
    <span class="c1">// Properties</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="n">GoldInKgs</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>If you come from some other language, upon seeing this, you might be like
<img src="/blog/images/2020-08-19-c-sharp-properties/meme1.png" alt="" /></p>

<p>When I learnt about properties, I kept wondering why do I work extra hard to define data members when I can do it in a simpler and a much known way. I though it was just <a href="https://en.wikipedia.org/wiki/Syntactic_sugar">syntactic sugar</a>, only with its visible diabetes as well. Then I saw an interesting usage of properties in our existing codebase, something like this</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">MyClass</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">IList</span><span class="p">&lt;</span><span class="n">SomeType</span><span class="p">&gt;</span> <span class="n">Property</span>
    <span class="p">{</span>
        <span class="k">get</span>
        <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">m_property</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">m_property</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">SomeType</span><span class="p">&gt;();</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="n">m_property</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">set</span>
        <span class="p">{</span>
            <span class="n">m_property</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">private</span> <span class="n">IList</span><span class="p">&lt;</span><span class="n">SomeType</span><span class="p">&gt;</span> <span class="n">m_property</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>and I suddenly doubting my already dubious C# knowledge. Thus I began a journey on to understand the actual use and various usage of patterns. (Donâ€™t worry, I will also explain this example soon)</p>

<h2 id="so-what-actually-are-properties">So what actually are Properties?</h2>

<p>Before getting into why these exist, lets assume they didnt. Now say I had a data member in my class that was private but I needed to access itâ€™s value in some other class, but not let it modify the value. For example</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Bank</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="kt">int</span> <span class="n">AccountBalance</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Me</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">myBankAccount</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Bank</span><span class="p">();</span>
    <span class="kt">var</span> <span class="n">myMoney</span> <span class="p">=</span> <span class="n">myBankAccount</span><span class="p">.</span><span class="n">AccountBalance</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Now if I cant directly access the <code class="language-plaintext highlighter-rouge">AccountBalance</code> property. If I make it public, although it might be fun for me, it might not be fun for the bank, when I could just do this</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// The easy way of becoming a millionaire</span>
<span class="n">myBankAccount</span><span class="p">.</span><span class="n">AccountBalance</span> <span class="p">=</span> <span class="m">1000000</span><span class="p">;</span>
</code></pre></div></div>

<p>So what is the other solution? Ah yes, <strong>getters</strong> (and <strong>setters</strong>, their siblings). We could easily define a getter on this data member that will get us the value but not let modify it. Something like this:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Bank</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="kt">int</span> <span class="n">AccountBalance</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">int</span> <span class="nf">getAccountBalance</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">AccountBalance</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">Me</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">myBankAccount</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Bank</span><span class="p">();</span>
    <span class="kt">var</span> <span class="n">myMoney</span> <span class="p">=</span> <span class="n">myBankAccount</span><span class="p">.</span><span class="nf">getAccountBalance</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>

<p>If you are used to working in Java with Eclipse, you know it has a functionality of auto generating getters and setters and Iâ€™m partly sure the creators of C# might have already loaded this in Visual Studio, but for people who didnt use it, this was a long and tedious methods to write this getters and setters. Thatâ€™s why, C# creators created properties.</p>

<blockquote>
  <p>Properties provide an access mechanism for private data members</p>
</blockquote>

<p>So even though you can essentially create data members using properties, thatâ€™s not their intended use. Essentially Properties provide a flexible mechanism to read, write or compute the value of a private field. They can be used as data members, but they are actually special methods called <strong>accessors</strong>, which as you guessed it, are useful for accessing data.</p>

<p>If you are not a fan of big words, this basically means, they are a shortcut for writing customized getter and setter methods. Thus, in a way, they indeed are syntactic sugar, without the harms? I am not going to bore you with the syntax of C# Properties, here is a good <a href="https://www.geeksforgeeks.org/c-sharp-properties/">reference</a>.</p>

<p>Now comes the fun part, the various usage patterns of Properties. The <code class="language-plaintext highlighter-rouge">get</code> and <code class="language-plaintext highlighter-rouge">set</code> arenâ€™t just for show. You can customize them to implement various fun and useful patterns in your code, and here Iâ€™ll show a few</p>

<h3 id="lazy-loading-values-using-properties">Lazy Loading Values using Properties</h3>

<p>Properties can help you implement a cache with lazy loading feature. For example</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">private</span> <span class="kt">int</span> <span class="n">m_IncomeTax</span><span class="p">;</span>

<span class="k">public</span> <span class="kt">int</span> <span class="n">IncomeTax</span>
<span class="p">{</span>
    <span class="k">get</span>
    <span class="p">{</span>
        <span class="k">if</span><span class="p">(</span><span class="n">m_IncomeTax</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">m_IncomeTax</span> <span class="p">=</span> <span class="nf">AReallyLongComputationForTax</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">m_IncomeTax</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>This is the other primary usage of Properties, of course other than controlling access.</p>

<h3 id="future-proofing-code">Future Proofing Code</h3>

<p>Say you want to maintain the API of your class but the logic or calculation changes. To incorporate that without affecting your class API, you can change the setter code.</p>

<p>In terms of the above example, say in the computation for tax, they include a cess (YES! Tax on Tax!), you can change the getters like this, such that <code class="language-plaintext highlighter-rouge">IncomeTax</code> property gives you the total tax always.</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Old</span>
<span class="k">public</span> <span class="kt">int</span> <span class="n">IncomeTax</span>
<span class="p">{</span>
    <span class="k">get</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">m_IncomeTax</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// New</span>
<span class="k">public</span> <span class="kt">int</span> <span class="n">IncomeTax</span>
<span class="p">{</span>
    <span class="k">get</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">m_IncomeTax</span> <span class="p">+</span> <span class="n">Cess</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="creating-a-contract">Creating a Contract</h3>

<p>Properties help you create a contract/API for a class. This way you can have a proper contract of accessing class members, which might be private or calculations on some private members. They are useful if you need some extra calculations on private members.</p>

<p>In general, the point is to separate <em>implementation</em> (the field) from <em>API</em> (the property). Later on you can, should you wish, put logic, logging etc in the property without breaking either source or binary compatibility - but more importantly youâ€™re saying what your type is willing to do, rather than how itâ€™s going to do it. More on this in <a href="https://csharpindepth.com/Articles/PropertiesMatter">this article</a></p>

<h3 id="returning-non-null-values-using-properties">Returning Non Null Values using Properties</h3>

<p>I promised Iâ€™ll explain the code at the beginning of the section. For reference, this is the code</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">MyClass</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">IList</span><span class="p">&lt;</span><span class="n">SomeType</span><span class="p">&gt;</span> <span class="n">Property</span>
    <span class="p">{</span>
        <span class="k">get</span>
        <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">m_property</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">m_property</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">SomeType</span><span class="p">&gt;();</span>
            <span class="p">}</span>
            <span class="k">return</span> <span class="n">m_property</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">set</span>
        <span class="p">{</span>
            <span class="n">m_property</span> <span class="p">=</span> <span class="k">value</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="n">IList</span><span class="p">&lt;</span><span class="n">SomeType</span><span class="p">&gt;</span> <span class="n">m_property</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>This code essentially checks whether a given member is null, and if it is null, it will populate the value first, and then return it. There is one great benefit of using this approach. Anything that consumes the value of this property need not have a null check, since this essentially ensures that you never get a null value and reduces the amount of code and checks you need to write, and donâ€™t we all want to write less code?</p>

<p>In closing, I know properties seem like glorified setters/getters and all of the benefits mentioned above can also be done using setters and getters as well, as said above, they are just syntactic sugar. Learning how they can be used to control access rather than being used as public data members can help flesh out some nice code as well.</p>

<h2 id="an-honourable-typescript-mention">An honourable TypeScript Mention</h2>

<p>Typescript itself has a similar method of implementing getters on private variables, which I remembered when I was reading up on properties. This looks quite similar to the C# Properties implementation and hence the mention here.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">MyClass</span> <span class="p">{</span>
    <span class="kr">private</span> <span class="nx">_property</span><span class="p">;</span>
    <span class="kr">public</span> <span class="kd">get</span> <span class="nx">property</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">_property</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyClass</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">value</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">property</span><span class="p">;</span>
</code></pre></div></div>

  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="mitesh1612/blog"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/blog/c%23/properties/classes/2020/08/19/c-sharp-properties.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/blog/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/blog/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Mitesh Shah&#39;s Developer Blog, made using Fastpages</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/mitesh1612" title="mitesh1612"><svg class="svg-icon grey"><use xlink:href="/blog/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/mitesh_1612" title="mitesh_1612"><svg class="svg-icon grey"><use xlink:href="/blog/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
